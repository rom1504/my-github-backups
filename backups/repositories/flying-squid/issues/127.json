{
    "assignee": null,
    "body": "Even without moving.\r\nI guess the problem is we are either (or both):\r\n* [x] sending too many chunks\r\n* [ ] sending whole columns\r\n* [x] not unloading\r\n\r\nIt would be nice to check with mineflayer (or nmp), how many chunks the vanilla server send. (and which part of the chunks)",
    "closed_at": "2015-12-07T00:35:49Z",
    "comment_data": [
        {
            "body": "render distance might be min(render_distance_server, render_distance_client) in vanilla",
            "created_at": "2015-11-25T21:10:10Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159732076",
            "id": 159732076,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-25T21:10:10Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159732076",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "Well I'm getting 100% allocated on a vanilla server too ?!",
            "created_at": "2015-11-25T23:09:53Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159752149",
            "id": 159752149,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-25T23:09:53Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159752149",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "Did you restart your client? It still keeps them loaded even when you leave a server.",
            "created_at": "2015-11-25T23:13:07Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159752578",
            "id": 159752578,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-25T23:13:07Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159752578",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9680886?v=3",
                "events_url": "https://api.github.com/users/109C/events{/privacy}",
                "followers_url": "https://api.github.com/users/109C/followers",
                "following_url": "https://api.github.com/users/109C/following{/other_user}",
                "gists_url": "https://api.github.com/users/109C/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/109C",
                "id": 9680886,
                "login": "109C",
                "organizations_url": "https://api.github.com/users/109C/orgs",
                "received_events_url": "https://api.github.com/users/109C/received_events",
                "repos_url": "https://api.github.com/users/109C/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/109C/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/109C/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/109C"
            }
        },
        {
            "body": "Ah indeed restarting my client solved it on the vanilla server.",
            "created_at": "2015-11-25T23:19:08Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159753349",
            "id": 159753349,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-25T23:19:08Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159753349",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "and I don't get 100% allocated without moving, so indeed unloading chunks would be useful.",
            "created_at": "2015-11-25T23:20:12Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159753507",
            "id": 159753507,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-25T23:20:12Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159753507",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "now doing min(serverView,clientView) because the vanilla server does it (I checked)\r\n\r\nthere seems to be some kind of bug in the thing that computes which chunk should be unloaded but I can't quite figure out what http://download.rom1504.fr/stuff/mc-fall.png\r\n\r\nif anybody can figure it out https://github.com/mhsjlw/flying-squid/blob/master/src/lib/plugins/world.js#L118 , I'm surely missing something obvious.",
            "created_at": "2015-11-26T00:43:41Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159767835",
            "id": 159767835,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-26T00:43:41Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159767835",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "fixed that bug in 6d098deb23ee0a6c91be09f8527882aba1be3306",
            "created_at": "2015-11-26T17:04:51Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-159960934",
            "id": 159960934,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-11-26T17:04:56Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/159960934",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        },
        {
            "body": "not sending whole column can be done later",
            "created_at": "2015-12-07T00:35:49Z",
            "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127#issuecomment-162380919",
            "id": 162380919,
            "issue_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
            "updated_at": "2015-12-07T00:35:53Z",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/comments/162380919",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127/comments",
    "created_at": "2015-11-25T21:08:19Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2015-11-25T21:08:19Z",
            "event": "labeled",
            "id": 474972622,
            "label": {
                "color": "c7def8",
                "name": "blocks"
            },
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/events/474972622"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            },
            "commit_id": "fb5450e3ca8c8d19bc82d2d882e2882fa61c6669",
            "commit_url": "https://api.github.com/repos/PrismarineJS/flying-squid/commits/fb5450e3ca8c8d19bc82d2d882e2882fa61c6669",
            "created_at": "2015-11-26T00:08:14Z",
            "event": "referenced",
            "id": 475088488,
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/events/475088488"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            },
            "commit_id": "7f47dacc60e2f441dbea60db36ade664e0d46724",
            "commit_url": "https://api.github.com/repos/PrismarineJS/flying-squid/commits/7f47dacc60e2f441dbea60db36ade664e0d46724",
            "created_at": "2015-11-26T00:32:39Z",
            "event": "referenced",
            "id": 475099115,
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/events/475099115"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
                "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
                "followers_url": "https://api.github.com/users/rom1504/followers",
                "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
                "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rom1504",
                "id": 2346494,
                "login": "rom1504",
                "organizations_url": "https://api.github.com/users/rom1504/orgs",
                "received_events_url": "https://api.github.com/users/rom1504/received_events",
                "repos_url": "https://api.github.com/users/rom1504/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rom1504"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2015-12-07T00:35:49Z",
            "event": "closed",
            "id": 483898454,
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/events/483898454"
        }
    ],
    "events_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127/events",
    "html_url": "https://github.com/PrismarineJS/flying-squid/issues/127",
    "id": 118924286,
    "labels": [
        {
            "color": "c7def8",
            "name": "blocks",
            "url": "https://api.github.com/repos/PrismarineJS/flying-squid/labels/blocks"
        }
    ],
    "labels_url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 127,
    "state": "closed",
    "title": "Fix \"100% allocated\" memory usage in vanilla client",
    "updated_at": "2015-12-07T00:35:53Z",
    "url": "https://api.github.com/repos/PrismarineJS/flying-squid/issues/127",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2346494?v=3",
        "events_url": "https://api.github.com/users/rom1504/events{/privacy}",
        "followers_url": "https://api.github.com/users/rom1504/followers",
        "following_url": "https://api.github.com/users/rom1504/following{/other_user}",
        "gists_url": "https://api.github.com/users/rom1504/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/rom1504",
        "id": 2346494,
        "login": "rom1504",
        "organizations_url": "https://api.github.com/users/rom1504/orgs",
        "received_events_url": "https://api.github.com/users/rom1504/received_events",
        "repos_url": "https://api.github.com/users/rom1504/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/rom1504/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rom1504/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/rom1504"
    }
}