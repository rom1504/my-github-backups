{
    "assignee": null,
    "body": "```\r\n/Users/andrew/node_modules/mineflayer/lib/plugins/entities.js:314\r\n    delete entity.effects[effect.id];\r\n                                ^\r\nTypeError: Cannot read property 'id' of undefined\r\n    at Client.<anonymous> (/Users/andrew/node_modules/mineflayer/lib/plugins/entities.js:314:33)\r\n    at Client.EventEmitter.emit (events.js:95:17)\r\n    at Socket.<anonymous> (/Users/andrew/node_modules/minecraft-protocol/lib/client.js:95:12)\r\n    at Socket.EventEmitter.emit (events.js:95:17)\r\n    at Socket.<anonymous> (_stream_readable.js:736:14)\r\n    at Socket.EventEmitter.emit (events.js:92:17)\r\n    at emitReadable_ (_stream_readable.js:408:10)\r\n    at emitReadable (_stream_readable.js:404:5)\r\n    at readableAddChunk (_stream_readable.js:165:9)\r\n    at Socket.Readable.push (_stream_readable.js:127:10)\r\n```\r\n\r\nI'll admit, I'm connecting to a Minecraft 1.7 server. In theory, I am using the 1.7 version of minecraft-protocol as well.\r\n\r\nAfter updating minecraft-protocol (again), I am getting a different error:\r\n```\r\n/Users/andrew/node_modules/mineflayer/lib/plugins/entities.js:345\r\n      player.entity = null;\r\n                    ^\r\nTypeError: Cannot set property 'entity' of undefined\r\n    at Client.<anonymous> (/Users/andrew/node_modules/mineflayer/lib/plugins/entities.js:345:21)\r\n    at Client.EventEmitter.emit (events.js:95:17)\r\n    at Socket.<anonymous> (/Users/andrew/node_modules/minecraft-protocol/lib/client.js:95:12)\r\n    at Socket.EventEmitter.emit (events.js:95:17)\r\n    at Socket.<anonymous> (_stream_readable.js:736:14)\r\n    at Socket.EventEmitter.emit (events.js:92:17)\r\n    at emitReadable_ (_stream_readable.js:408:10)\r\n    at emitReadable (_stream_readable.js:404:5)\r\n    at readableAddChunk (_stream_readable.js:165:9)\r\n    at Socket.Readable.push (_stream_readable.js:127:10)\r\n```",
    "closed_at": "2015-03-11T11:12:37Z",
    "comment_data": [
        {
            "body": "bump",
            "created_at": "2014-06-21T23:45:40Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/188#issuecomment-46768066",
            "id": 46768066,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188",
            "updated_at": "2014-06-21T23:45:40Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/46768066",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2116451?v=3",
                "events_url": "https://api.github.com/users/ndrewh/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndrewh/followers",
                "following_url": "https://api.github.com/users/ndrewh/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndrewh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndrewh",
                "id": 2116451,
                "login": "ndrewh",
                "organizations_url": "https://api.github.com/users/ndrewh/orgs",
                "received_events_url": "https://api.github.com/users/ndrewh/received_events",
                "repos_url": "https://api.github.com/users/ndrewh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndrewh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndrewh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndrewh"
            }
        },
        {
            "body": "I managed to fix this in my branch, and will make a PR once I determine if it was only an issue for this server.",
            "created_at": "2014-06-22T00:31:15Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/188#issuecomment-46768800",
            "id": 46768800,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188",
            "updated_at": "2014-06-22T00:31:15Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/46768800",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2116451?v=3",
                "events_url": "https://api.github.com/users/ndrewh/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndrewh/followers",
                "following_url": "https://api.github.com/users/ndrewh/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndrewh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndrewh",
                "id": 2116451,
                "login": "ndrewh",
                "organizations_url": "https://api.github.com/users/ndrewh/orgs",
                "received_events_url": "https://api.github.com/users/ndrewh/received_events",
                "repos_url": "https://api.github.com/users/ndrewh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndrewh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndrewh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndrewh"
            }
        },
        {
            "body": "This was caused by the player_info packet protocol change I believe, fixed in https://github.com/andrewrk/mineflayer/pull/195 https://github.com/deathcap/mineflayer/commit/2f89a250f85f4f42971613d2f4586564e9a0edcc",
            "created_at": "2015-03-09T19:45:23Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/188#issuecomment-77927329",
            "id": 77927329,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188",
            "updated_at": "2015-03-09T19:45:23Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/77927329",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5897956?v=3",
                "events_url": "https://api.github.com/users/deathcap/events{/privacy}",
                "followers_url": "https://api.github.com/users/deathcap/followers",
                "following_url": "https://api.github.com/users/deathcap/following{/other_user}",
                "gists_url": "https://api.github.com/users/deathcap/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/deathcap",
                "id": 5897956,
                "login": "deathcap",
                "organizations_url": "https://api.github.com/users/deathcap/orgs",
                "received_events_url": "https://api.github.com/users/deathcap/received_events",
                "repos_url": "https://api.github.com/users/deathcap/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/deathcap/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/deathcap/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/deathcap"
            }
        },
        {
            "body": "fix merged, this can be closed",
            "created_at": "2015-03-11T05:48:25Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/188#issuecomment-78208876",
            "id": 78208876,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188",
            "updated_at": "2015-03-11T05:48:25Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/78208876",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5897956?v=3",
                "events_url": "https://api.github.com/users/deathcap/events{/privacy}",
                "followers_url": "https://api.github.com/users/deathcap/followers",
                "following_url": "https://api.github.com/users/deathcap/following{/other_user}",
                "gists_url": "https://api.github.com/users/deathcap/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/deathcap",
                "id": 5897956,
                "login": "deathcap",
                "organizations_url": "https://api.github.com/users/deathcap/orgs",
                "received_events_url": "https://api.github.com/users/deathcap/received_events",
                "repos_url": "https://api.github.com/users/deathcap/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/deathcap/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/deathcap/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/deathcap"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188/comments",
    "created_at": "2014-05-27T23:04:45Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2116451?v=3",
                "events_url": "https://api.github.com/users/ndrewh/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndrewh/followers",
                "following_url": "https://api.github.com/users/ndrewh/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndrewh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndrewh",
                "id": 2116451,
                "login": "ndrewh",
                "organizations_url": "https://api.github.com/users/ndrewh/orgs",
                "received_events_url": "https://api.github.com/users/ndrewh/received_events",
                "repos_url": "https://api.github.com/users/ndrewh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndrewh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndrewh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndrewh"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2014-06-21T23:48:43Z",
            "event": "renamed",
            "id": 133832015,
            "rename": {
                "from": "entities.js error connecting to 1.7 server",
                "to": "entities.js error connecting to 1.7.6 server"
            },
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/events/133832015"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2116451?v=3",
                "events_url": "https://api.github.com/users/ndrewh/events{/privacy}",
                "followers_url": "https://api.github.com/users/ndrewh/followers",
                "following_url": "https://api.github.com/users/ndrewh/following{/other_user}",
                "gists_url": "https://api.github.com/users/ndrewh/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ndrewh",
                "id": 2116451,
                "login": "ndrewh",
                "organizations_url": "https://api.github.com/users/ndrewh/orgs",
                "received_events_url": "https://api.github.com/users/ndrewh/received_events",
                "repos_url": "https://api.github.com/users/ndrewh/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ndrewh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ndrewh/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ndrewh"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2014-06-21T23:49:20Z",
            "event": "renamed",
            "id": 133832042,
            "rename": {
                "from": "entities.js error connecting to 1.7.6 server",
                "to": "entities.js error connecting to 1.7.9 server"
            },
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/events/133832042"
        },
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1069318?v=3",
                "events_url": "https://api.github.com/users/roblabla/events{/privacy}",
                "followers_url": "https://api.github.com/users/roblabla/followers",
                "following_url": "https://api.github.com/users/roblabla/following{/other_user}",
                "gists_url": "https://api.github.com/users/roblabla/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/roblabla",
                "id": 1069318,
                "login": "roblabla",
                "organizations_url": "https://api.github.com/users/roblabla/orgs",
                "received_events_url": "https://api.github.com/users/roblabla/received_events",
                "repos_url": "https://api.github.com/users/roblabla/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/roblabla/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/roblabla/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/roblabla"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2015-03-11T11:12:37Z",
            "event": "closed",
            "id": 250011438,
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/events/250011438"
        }
    ],
    "events_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188/events",
    "html_url": "https://github.com/PrismarineJS/mineflayer/issues/188",
    "id": 34421428,
    "labels": [],
    "labels_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 188,
    "repository_url": "https://api.github.com/repos/PrismarineJS/mineflayer",
    "state": "closed",
    "title": "entities.js error connecting to 1.7.9 server",
    "updated_at": "2015-03-11T11:12:37Z",
    "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/188",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2116451?v=3",
        "events_url": "https://api.github.com/users/ndrewh/events{/privacy}",
        "followers_url": "https://api.github.com/users/ndrewh/followers",
        "following_url": "https://api.github.com/users/ndrewh/following{/other_user}",
        "gists_url": "https://api.github.com/users/ndrewh/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ndrewh",
        "id": 2116451,
        "login": "ndrewh",
        "organizations_url": "https://api.github.com/users/ndrewh/orgs",
        "received_events_url": "https://api.github.com/users/ndrewh/received_events",
        "repos_url": "https://api.github.com/users/ndrewh/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ndrewh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ndrewh/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ndrewh"
    }
}