{
    "assignee": null,
    "body": "Sometimes when chatting, mineflayer will crash.\r\n\r\nStacktrace:\r\n```\r\n$ node helperbot.js\r\nError: write ECONNRESET\r\n    at errnoException (net.js:770:11)\r\n    at Object.afterWrite (net.js:594:19)\r\n```\r\n\r\nServer log:\r\n```[INFO] helperbot lost connection: disconnect.timeout```",
    "closed_at": "2013-01-18T14:21:37Z",
    "comment_data": [
        {
            "body": "Can you produce a test case or set of instructions that crashes every time you run it?",
            "created_at": "2013-01-12T22:29:44Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12185697",
            "id": 12185697,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-12T22:29:44Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12185697",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "Run examples/echo.js, and chat a few times.  Sometimes he'll echo what you say several times just fine, sometimes not at all, and then he will stop chatting for a few minutes and then disconnect.  The server always says `disconnect.timeout`, but it's not always that same error I see above, sometimes there is no traceback.",
            "created_at": "2013-01-12T23:02:09Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12186119",
            "id": 12186119,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-12T23:02:09Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12186119",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
                "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
                "followers_url": "https://api.github.com/users/Darthfett/followers",
                "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
                "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Darthfett",
                "id": 412436,
                "login": "Darthfett",
                "organizations_url": "https://api.github.com/users/Darthfett/orgs",
                "received_events_url": "https://api.github.com/users/Darthfett/received_events",
                "repos_url": "https://api.github.com/users/Darthfett/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Darthfett"
            }
        },
        {
            "body": "I can't get it to crash:\r\n\r\n```\r\n2013-01-12 18:04:40 [INFO] player[/127.0.0.1:40074] logged in with entity id 356 at (-198.5, 64.62000000476837, 249.5)\r\n2013-01-12 18:04:53 [INFO] superjoe30[/127.0.0.1:49677] logged in with entity id 357 at (-203.843338116247, 63.0, 249.9056792037799)\r\n2013-01-12 18:04:53 [INFO] player was slain by Spider\r\n2013-01-12 18:04:56 [INFO] <superjoe30> hi\r\n2013-01-12 18:04:56 [INFO] <player> hi\r\n2013-01-12 18:04:57 [INFO] <superjoe30> hi\r\n2013-01-12 18:04:57 [INFO] <player> hi\r\n2013-01-12 18:04:58 [INFO] <superjoe30> oauaaoe\r\n2013-01-12 18:04:58 [INFO] <player> oauaaoe\r\n2013-01-12 18:05:01 [INFO] <superjoe30> aouaoueaouaoeuaoeuaoueaou\r\n2013-01-12 18:05:01 [INFO] <player> aouaoueaouaoeuaoeuaoueaou\r\n2013-01-12 18:05:02 [INFO] <superjoe30> hihihihihi\r\n2013-01-12 18:05:02 [INFO] <player> hihihihihi\r\n2013-01-12 18:05:04 [INFO] <superjoe30> hahahahaahaha\r\n2013-01-12 18:05:04 [INFO] <player> hahahahaahaha\r\n2013-01-12 18:05:05 [INFO] <superjoe30> o,l.f,plf.pl,g.pl,gpl,\r\n2013-01-12 18:05:05 [INFO] <player> o,l.f,plf.pl,g.pl,gpl,\r\n2013-01-12 18:05:07 [INFO] <superjoe30> qdodiododododo\r\n2013-01-12 18:05:07 [INFO] <player> qdodiododododo\r\n2013-01-12 18:05:11 [INFO] <superjoe30> otottotttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttt\r\n2013-01-12 18:05:11 [INFO] <player> otottotttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttt\r\n2013-01-12 18:05:20 [INFO] player was slain by Spider\r\n2013-01-12 18:05:30 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:30 [INFO] <player> blah\r\n2013-01-12 18:05:30 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:30 [INFO] <player> blah\r\n2013-01-12 18:05:30 [INFO] player was slain by Spider\r\n2013-01-12 18:05:31 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:31 [INFO] <player> blah\r\n2013-01-12 18:05:32 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:32 [INFO] <player> blah\r\n2013-01-12 18:05:32 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:32 [INFO] <player> blah\r\n2013-01-12 18:05:33 [INFO] <superjoe30> blah\r\n2013-01-12 18:05:33 [INFO] <player> blah\r\n2013-01-12 18:05:34 [INFO] <superjoe30> foo\r\n2013-01-12 18:05:34 [INFO] <player> foo\r\n2013-01-12 18:05:36 [INFO] <superjoe30> aoeuaoeuaoueaoueaoeuaoeu\r\n2013-01-12 18:05:36 [INFO] <player> aoeuaoeuaoueaoueaoeuaoeu\r\n2013-01-12 18:05:39 [INFO] superjoe30 lost connection: disconnect.quitting\r\njava.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:185)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n\tat apd.a(Unknown Source)\r\n\tat apd.read(Unknown Source)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n\tat ef.a(SourceFile:177)\r\n\tat cg.i(SourceFile:249)\r\n\tat cg.c(SourceFile:15)\r\n\tat ch.run(SourceFile:93)\r\n2013-01-12 18:05:44 [INFO] player lost connection: disconnect.genericReason\r\n```",
            "created_at": "2013-01-12T23:06:30Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12186176",
            "id": 12186176,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-12T23:06:30Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12186176",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "It might be a Windows bug, then.  I wonder if someone else with Windows could reproduce this to confirm.\r\n\r\nI'll be using a VM to work around this.",
            "created_at": "2013-01-12T23:42:54Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12186591",
            "id": 12186591,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-12T23:42:54Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12186591",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
                "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
                "followers_url": "https://api.github.com/users/Darthfett/followers",
                "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
                "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Darthfett",
                "id": 412436,
                "login": "Darthfett",
                "organizations_url": "https://api.github.com/users/Darthfett/orgs",
                "received_events_url": "https://api.github.com/users/Darthfett/received_events",
                "repos_url": "https://api.github.com/users/Darthfett/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Darthfett"
            }
        },
        {
            "body": "I have similar problems with chat when using an Ubuntu VM to connect to the Windows host's server, and when using an Ubuntu VM to host the server.  I'm seeing it exit with no output in both scenarios.\r\n\r\nIt sounds like it might be a timing or load issue? ",
            "created_at": "2013-01-14T21:56:26Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12242031",
            "id": 12242031,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-14T21:58:10Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12242031",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
                "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
                "followers_url": "https://api.github.com/users/Darthfett/followers",
                "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
                "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Darthfett",
                "id": 412436,
                "login": "Darthfett",
                "organizations_url": "https://api.github.com/users/Darthfett/orgs",
                "received_events_url": "https://api.github.com/users/Darthfett/received_events",
                "repos_url": "https://api.github.com/users/Darthfett/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Darthfett"
            }
        },
        {
            "body": "\"Connection reset\" is a network-layer problem. The fault lies below mineflayer's surface. In order to fix this issue we need a simpler test case that always fails.",
            "created_at": "2013-01-14T21:58:40Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12242131",
            "id": 12242131,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-14T21:58:40Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12242131",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "How simple should this test case be?  I have repeated the test on Windows with node-minecraft-protocol's client_echo.js example, and I see the same issue.",
            "created_at": "2013-01-14T22:59:45Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12244829",
            "id": 12244829,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-14T22:59:45Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12244829",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
                "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
                "followers_url": "https://api.github.com/users/Darthfett/followers",
                "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
                "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Darthfett",
                "id": 412436,
                "login": "Darthfett",
                "organizations_url": "https://api.github.com/users/Darthfett/orgs",
                "received_events_url": "https://api.github.com/users/Darthfett/received_events",
                "repos_url": "https://api.github.com/users/Darthfett/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Darthfett"
            }
        },
        {
            "body": "So there should be an issue filed on minecraft protocol and this issue is\njust blocking on that one.",
            "created_at": "2013-01-14T23:20:28Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12245599",
            "id": 12245599,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-14T23:20:28Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12245599",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "Filed this as https://github.com/superjoe30/node-minecraft-protocol/issues/17",
            "created_at": "2013-01-14T23:43:34Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12246341",
            "id": 12246341,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-14T23:51:26Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12246341",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
                "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
                "followers_url": "https://api.github.com/users/Darthfett/followers",
                "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
                "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Darthfett",
                "id": 412436,
                "login": "Darthfett",
                "organizations_url": "https://api.github.com/users/Darthfett/orgs",
                "received_events_url": "https://api.github.com/users/Darthfett/received_events",
                "repos_url": "https://api.github.com/users/Darthfett/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Darthfett"
            }
        },
        {
            "body": "Tested on windows. Works fine. Closing.",
            "created_at": "2013-01-18T14:21:37Z",
            "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92#issuecomment-12423621",
            "id": 12423621,
            "issue_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
            "updated_at": "2013-01-18T14:21:37Z",
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/comments/12423621",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92/comments",
    "created_at": "2013-01-12T22:21:08Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2013-01-18T14:21:37Z",
            "event": "closed",
            "id": 34842770,
            "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/events/34842770"
        }
    ],
    "events_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92/events",
    "html_url": "https://github.com/PrismarineJS/mineflayer/issues/92",
    "id": 9915704,
    "labels": [],
    "labels_url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 92,
    "state": "closed",
    "title": "Connection reset crash when chatting",
    "updated_at": "2013-01-18T14:21:37Z",
    "url": "https://api.github.com/repos/PrismarineJS/mineflayer/issues/92",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/412436?v=3",
        "events_url": "https://api.github.com/users/Darthfett/events{/privacy}",
        "followers_url": "https://api.github.com/users/Darthfett/followers",
        "following_url": "https://api.github.com/users/Darthfett/following{/other_user}",
        "gists_url": "https://api.github.com/users/Darthfett/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Darthfett",
        "id": 412436,
        "login": "Darthfett",
        "organizations_url": "https://api.github.com/users/Darthfett/orgs",
        "received_events_url": "https://api.github.com/users/Darthfett/received_events",
        "repos_url": "https://api.github.com/users/Darthfett/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Darthfett/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Darthfett/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Darthfett"
    }
}