{
    "assignee": null,
    "body": "I tried to create a Script that connects to a offline Server sends a Message and immediatly disconnects. Im currently looking to get the reason, why the client is disconnected. Basically in order to check if the username is banned or the client failed to Authenticate with minecraft.net \r\n \r\n    var mc = require('minecraft-protocol');\r\n    var client = mc.createClient({\r\n      host: \"192.168.178.22\",   \r\n      port: 80,       \r\n      username: \"test\",\r\n    });\r\n    \r\n    client.on('connect', function() {\r\n      console.info(\"connected\"); \r\n    });\r\n    \r\n    client.on('end', function(reason) {\r\n      console.info(reason);\r\n      response.end();\r\n      console.log(\"---ENDED----\");          \r\n    });\r\n    \r\n    client.on(0x01, function() {\r\n      client.write(0x03, { message: \"dsasda\",});\r\n      setTimeout(function() {\r\n      client.end();\r\n      console.log('disconnected');\r\n      return;\r\n      }, 1);        \r\n    });\r\n",
    "closed_at": "2013-02-08T17:17:41Z",
    "comment_data": [
        {
            "body": "Try listening to the [kicked](https://github.com/superjoe30/mineflayer/blob/master/doc/api.md#kicked-reason) event.",
            "created_at": "2013-02-08T14:45:21Z",
            "html_url": "https://github.com/PrismarineJS/node-minecraft-protocol/issues/39#issuecomment-13293132",
            "id": 13293132,
            "issue_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39",
            "updated_at": "2013-02-08T14:45:21Z",
            "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/comments/13293132",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "I changed my end event to  \r\n \r\n    client.on('kicked', function(reason) {\r\n      console.info(reason);\r\n      response.end();\r\n      console.log(\"---ENDED----\");          \r\n    });\r\n\r\nApperently nothing happens, maybe i should use mineflayer, but i prefer to use a simpel Version.",
            "created_at": "2013-02-08T15:16:59Z",
            "html_url": "https://github.com/PrismarineJS/node-minecraft-protocol/issues/39#issuecomment-13294567",
            "id": 13294567,
            "issue_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39",
            "updated_at": "2013-02-08T15:16:59Z",
            "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/comments/13294567",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/833043?v=3",
                "events_url": "https://api.github.com/users/BjoernAkAManf/events{/privacy}",
                "followers_url": "https://api.github.com/users/BjoernAkAManf/followers",
                "following_url": "https://api.github.com/users/BjoernAkAManf/following{/other_user}",
                "gists_url": "https://api.github.com/users/BjoernAkAManf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BjoernAkAManf",
                "id": 833043,
                "login": "BjoernAkAManf",
                "organizations_url": "https://api.github.com/users/BjoernAkAManf/orgs",
                "received_events_url": "https://api.github.com/users/BjoernAkAManf/received_events",
                "repos_url": "https://api.github.com/users/BjoernAkAManf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BjoernAkAManf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BjoernAkAManf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BjoernAkAManf"
            }
        },
        {
            "body": "Oops! I got confused and I thought that you were using mineflayer. I just realized this is node-minecraft-protocol :-)\r\n\r\nWhat you want to do is this:\r\n\r\n```js\r\nclient.on(0xff, function(packet) {\r\n  console.info(packet.reason);\r\n});\r\n```\r\n\r\nThe 'end' event is when you disconnect; you'll receive a 0xff packet before you get the 'end' event.",
            "created_at": "2013-02-08T15:33:32Z",
            "html_url": "https://github.com/PrismarineJS/node-minecraft-protocol/issues/39#issuecomment-13295405",
            "id": 13295405,
            "issue_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39",
            "updated_at": "2013-02-08T15:33:32Z",
            "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/comments/13295405",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/106511?v=3",
                "events_url": "https://api.github.com/users/andrewrk/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewrk/followers",
                "following_url": "https://api.github.com/users/andrewrk/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewrk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewrk",
                "id": 106511,
                "login": "andrewrk",
                "organizations_url": "https://api.github.com/users/andrewrk/orgs",
                "received_events_url": "https://api.github.com/users/andrewrk/received_events",
                "repos_url": "https://api.github.com/users/andrewrk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewrk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewrk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewrk"
            }
        },
        {
            "body": "Dude your awesome :+1: \r\nThis works and my Problem got solved nearly faster than paid support :-) \r\nKeep up your good Work!",
            "created_at": "2013-02-08T17:17:41Z",
            "html_url": "https://github.com/PrismarineJS/node-minecraft-protocol/issues/39#issuecomment-13300769",
            "id": 13300769,
            "issue_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39",
            "updated_at": "2013-02-08T17:17:41Z",
            "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/comments/13300769",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/833043?v=3",
                "events_url": "https://api.github.com/users/BjoernAkAManf/events{/privacy}",
                "followers_url": "https://api.github.com/users/BjoernAkAManf/followers",
                "following_url": "https://api.github.com/users/BjoernAkAManf/following{/other_user}",
                "gists_url": "https://api.github.com/users/BjoernAkAManf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BjoernAkAManf",
                "id": 833043,
                "login": "BjoernAkAManf",
                "organizations_url": "https://api.github.com/users/BjoernAkAManf/orgs",
                "received_events_url": "https://api.github.com/users/BjoernAkAManf/received_events",
                "repos_url": "https://api.github.com/users/BjoernAkAManf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BjoernAkAManf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BjoernAkAManf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BjoernAkAManf"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39/comments",
    "created_at": "2013-02-08T14:28:25Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars.githubusercontent.com/u/833043?v=3",
                "events_url": "https://api.github.com/users/BjoernAkAManf/events{/privacy}",
                "followers_url": "https://api.github.com/users/BjoernAkAManf/followers",
                "following_url": "https://api.github.com/users/BjoernAkAManf/following{/other_user}",
                "gists_url": "https://api.github.com/users/BjoernAkAManf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/BjoernAkAManf",
                "id": 833043,
                "login": "BjoernAkAManf",
                "organizations_url": "https://api.github.com/users/BjoernAkAManf/orgs",
                "received_events_url": "https://api.github.com/users/BjoernAkAManf/received_events",
                "repos_url": "https://api.github.com/users/BjoernAkAManf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/BjoernAkAManf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/BjoernAkAManf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/BjoernAkAManf"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2013-02-08T17:17:41Z",
            "event": "closed",
            "id": 37224625,
            "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/events/37224625"
        }
    ],
    "events_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39/events",
    "html_url": "https://github.com/PrismarineJS/node-minecraft-protocol/issues/39",
    "id": 10780864,
    "labels": [],
    "labels_url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39/labels{/name}",
    "locked": false,
    "milestone": null,
    "number": 39,
    "state": "closed",
    "title": "Getting reason for disconnect",
    "updated_at": "2014-04-30T03:06:11Z",
    "url": "https://api.github.com/repos/PrismarineJS/node-minecraft-protocol/issues/39",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/833043?v=3",
        "events_url": "https://api.github.com/users/BjoernAkAManf/events{/privacy}",
        "followers_url": "https://api.github.com/users/BjoernAkAManf/followers",
        "following_url": "https://api.github.com/users/BjoernAkAManf/following{/other_user}",
        "gists_url": "https://api.github.com/users/BjoernAkAManf/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/BjoernAkAManf",
        "id": 833043,
        "login": "BjoernAkAManf",
        "organizations_url": "https://api.github.com/users/BjoernAkAManf/orgs",
        "received_events_url": "https://api.github.com/users/BjoernAkAManf/received_events",
        "repos_url": "https://api.github.com/users/BjoernAkAManf/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/BjoernAkAManf/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BjoernAkAManf/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/BjoernAkAManf"
    }
}